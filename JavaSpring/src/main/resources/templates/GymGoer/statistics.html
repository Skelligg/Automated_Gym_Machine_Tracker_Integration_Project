<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Statistics</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<h1>Statistics</h1>


<!--Buttons to select the "by weight","by volume", "by reps"-->
<div class="btn-group btn-group-toggle" data-toggle="buttons">
    <label class="btn btn-secondary active">
        <input type="radio" name="options" id="option1" autocomplete="off" checked> By Weight
    </label>
    <label class="btn btn-secondary">
        <input type="radio" name="options" id="option2" autocomplete="off"> By Volume
    </label>
    <label class="btn btn-secondary">
        <input type="radio" name="options" id="option3" autocomplete="off"> By Reps
    </label>
</div>

<!--<p th:utext=""></p>-->
<!--<table class="table table-hover">-->
<!--    <thead class="table-primary">-->
<!--    <tr>-->
<!--        <th th:utext="#{}" scope="col">Name</th>-->
<!--        <th th:utext="#{}" scope="col">Repetitions</th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--</table>-->
<!--<div>-->


<table border="1">
    <thead>
        <tr>
            <th>Username</th>
            <th>Total Session</th>
            <th>Total Weight</th>
        </tr>
    </thead>
    <tbody>
    <tr th:each="stat : ${statistics}">
        <td th:each="${stat.username}"></td>
        <td th:each="${stat.totalWeight}"></td>
        <td th:each="${stat.totalSessions}"></td>
    </tr>
    </tbody>
</table>
<canvas id="statisticsChart" width="400" height="200"></canvas>
<script>
    const stats  = [];
    const label = stats.map(stat => `${stat.username}`);
    const totalWeight = stats.map(stat=>stat.totalWeight);

    const ctx = document.getElementById('statisticsChart').getContext('2d');
    new Chart(ctx, {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [{
                label: 'Total Weight Lifted',
                data: totalWeights,
                backgroundColor: 'rgba(75, 192, 192, 0.2)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>




</body>
</html>